@using static EducationHub.Data.Common.Validations.DataValidation.Lesson
@model EducationHub.Web.ViewModels.Lessons.EditLessonViewModel

@{
    ViewData["Title"] = "Edit";
}

<h1 class="center light-green-text lighten-2">Edit lesson </h1>

<h4 class="center light-green-text lighten-2">@Model.Title</h4>

<partial name="_TinyMCEPartial" />
<div class="row">
    <div class="col center">
        <form asp-action="Edit" method="post">
            <div asp-validation-summary="All" class="red-text center"></div>
            <div class="input-field col s12 l6 offset-l3">
                <label asp-for="Title"></label>
                <input asp-for="Title" class="validate character-counter" data-length="@TitleMaxLength" />
                <span asp-validation-for="Title" class="red-text center"></span>
            </div>
            <div class="input col s12 l6 offset-l3">
                <label asp-for="Description"></label>
                <textarea asp-for="Description"></textarea>
                <span asp-validation-for="Description" class="red-text center"></span>
            </div>
            <div class="input-field col s12 l6 offset-l3">
                <label asp-for="VideoUrl"></label>
                <input asp-for="VideoUrl" class="validate character-counter" data-length="@VideoUrlMaxLength" />
                <span asp-validation-for="VideoUrl" class="red-text center"></span>
            </div>
            <div class="input-field col s12 l6 offset-l3">
                <select asp-for="CategoryId" class="icons">
                    @foreach (var item in Model.CategoriesItems)
                    {
                        <option value="@item.Id" data-icon="@item.PictureUrl">@item.Name</option>
                    }
                </select>
                <label asp-for="CategoryId"></label>
            </div>
            <div class="input-field col s12 l6 offset-l3">
                <button type="submit" class="btn green waves-effect waves-light">Save</button>
                <a href="#modal1" class="btn red darken-2 waves-effect waves-red modal-trigger">Delete</a>
                <div>
                    <a asp-action="ByUser" class="btn btn-flat waves-effect waves-light">Back to List</a>
                </div>
            </div>
        </form>
    </div>
</div>

<div id="modal1" class="modal bottom-sheet grey lighten-2">
    <div class="modal-content">
        <h4 class="center red-text">Confirm delete!</h4>
        <h6 class="center red-text">Do you want to delete this resource?</h6>
    </div>
    <div class="modal-footer grey lighten-2">
        <a asp-action="Delete" asp-route-id="@Model.Id" class="modal-close waves-effect waves-green btn-flat red-text">Delete</a>
    </div>
</div>

@section Scripts{
    <script src="~/js/charactersCounter.js"></script>
    <script src="~/js/categoryDropDawn.js"></script>
    <script src="~/js/modal.js"></script>
}

